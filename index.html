<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Meu CardÃ¡pio Inteligente</title>

<style>
:root { --primary:#4CAF50; --bg:#f4f4f9; }
body { font-family: Arial, sans-serif; background:var(--bg); margin:0; padding:15px; }
.container { max-width:600px; margin:auto; background:#fff; padding:20px; border-radius:12px; }
.nav-tabs { display:flex; gap:8px; margin-bottom:15px; }
.tab { flex:1; padding:10px; text-align:center; background:#eee; border-radius:8px; cursor:pointer; font-weight:bold; }
.tab.active { background:var(--primary); color:#fff; }
.bloco { background:#f9f9f9; border-left:4px solid var(--primary); padding:10px; margin-bottom:10px; border-radius:5px; }
button { width:100%; padding:12px; background:var(--primary); color:#fff; border:none; border-radius:8px; cursor:pointer; }
</style>
</head>

<body>
<div class="container">
    <div class="nav-tabs">
        <div class="tab active" onclick="app.mudarAba('dia',this)">Hoje</div>
        <div class="tab" onclick="app.mudarAba('semana',this)">Semana</div>
        <div class="tab" onclick="app.mudarAba('compras',this)">Compras</div>
    </div>
    <div id="conteudo"></div>
</div>

<script>
const app = {

    // ================= BANCO DE DADOS =================
    banco: {
        cafe: {
            bases: ["PÃ£o francÃªs","PÃ£o de forma","PÃ£o caseiro","Tapioca","Cuscuz","Bolo simples caseiro","Panqueca","Crepioca","Mingau de aveia","Mingau de milho","PÃ£o de queijo","Torrada","Aipim cozido","Banana da terra cozida","Batata doce cozida","Iogurte com frutas","Mingau de tapioca"],
            acompanhamentos: ["Manteiga ou Margarina","RequeijÃ£o","Cream cheese","Catupiry","Queijo mussarela","Ovo mexido","Ovo cozido","PatÃª de frango caseiro","PatÃª de atum caseiro","Presunto","Mortadela","Peito de peru"],
            bebidas: ["CafÃ©","Leite com achocolatado","ChÃ¡","Vitamina","ChÃ¡ gelado","Suco de uva integral","Suco"]
        },
        almoco: {
            feijoes: ["FeijÃ£o carioca","FeijÃ£o preto","FeijÃ£o fradinho"],
            proteinas: ["Frango cozido","Frango frito","Frango assado","Frango desfiado","Carne moÃ­da","Carne do sol","Carne de panela","Bife no molho","AlmÃ´ndega","Peixe frito","Steak de frango","Iscas de frango","FÃ­gado acebolado","Moqueca","Ovo mexido","Panqueca de carne","LinguiÃ§a","Panqueca de frango","Salsicha"],
            acompanhamentos: ["MacarrÃ£o","PurÃª de abÃ³bora","PurÃª de batata","PurÃª de aipim","Batata cozida","Mandioca frita","Batata frita","Salada de maionese","Salada de alface com tomate","Salada de couve com tomate","Vinagrete","Couve refogada","Creme de milho","Farofa pronta","Farofa de banana da terra","Farofa de cebola","Farofa de cenoura"],
            especial: "Feijoada completa"
        },
        jantar: {
            opcoes: ["Arroz com ovo","Arroz com frango","MacarrÃ£o com frango","Sopa","Caldo de carne","Caldo de frango","Caldo de calabresa","Mini salgados","Cachorro-quente","Pizza","HambÃºrguer","Arroz doce","PÃ£o francÃªs","PÃ£o de forma","PÃ£o caseiro","Tapioca","Cuscuz com ovo","Cuscuz com banana da terra","Cuscuz com carne do sol","Farofa de cuscuz","Bolo simples","Panqueca de frango","Panqueca de carne","Crepioca","Mingau de aveia","Mingau de milho","PÃ£o de queijo","Torrada","Aipim cozido","Banana da terra cozida","Batata doce cozida"]
        },
        lanches: {
            frutas: ["Banana","MaÃ§Ã£","Uva","Abacaxi","Pera","Manga","Melancia","MaÃ§Ã£ verde","Tangerina","Morango","Laranja","Ameixa"],
            tarde: ["Biscoito","Iogurte com frutas","Iogurte com granola","Bolo caseiro","Vitamina de aÃ§aÃ­","Vitamina de frutas","Sonho de padaria","Salada de frutas"]
        }
    },

    // ================= LÃ“GICA =================
    escolher(lista) {
        return lista[Math.floor(Math.random() * lista.length)];
    },

    gerarDia() {
        return {
            cafe: {
                base: this.escolher(this.banco.cafe.bases),
                acomp: this.escolher(this.banco.cafe.acompanhamentos),
                bebida: this.escolher(this.banco.cafe.bebidas)
            },
            lancheManha: this.escolher(this.banco.lanches.frutas),
            almoco: {
                feijao: this.escolher(this.banco.almoco.feijoes),
                proteina: this.escolher(this.banco.almoco.proteinas),
                acomp: this.escolher(this.banco.almoco.acompanhamentos)
            },
            lancheTarde: this.escolher(this.banco.lanches.tarde),
            jantar: this.escolher(this.banco.jantar.opcoes)
        };
    },

    gerarSemana() {
        const dias = ["Segunda","TerÃ§a","Quarta","Quinta","Sexta","SÃ¡bado","Domingo"];
        let semana = {};
        dias.forEach(d => semana[d] = this.gerarDia());
        localStorage.setItem("semana", JSON.stringify(semana));
        return semana;
    },

    obterSemana() {
        return JSON.parse(localStorage.getItem("semana")) || this.gerarSemana();
    },

    mudarAba(aba, el) {
        document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
        el.classList.add('active');
        const c = document.getElementById("conteudo");
        if (aba === "dia") this.renderDia(c);
        else if (aba === "semana") this.renderSemana(c);
        else this.renderCompras(c);
    },

    renderDia(el) {
        const semana = this.obterSemana();
        const hoje = new Date().getDay();
        const nomes = ["Domingo","Segunda","TerÃ§a","Quarta","Quinta","Sexta","SÃ¡bado"];
        const d = semana[nomes[hoje]];
        el.innerHTML = `
            <h2>${nomes[hoje]}</h2>
            <div class="bloco">â˜• ${d.cafe.base} com ${d.cafe.acomp} e ${d.cafe.bebida}</div>
            <div class="bloco">ğŸ ${d.lancheManha}</div>
            <div class="bloco">ğŸ› ${d.almoco.feijao}, ${d.almoco.proteina} e ${d.almoco.acomp}</div>
            <div class="bloco">ğŸª ${d.lancheTarde}</div>
            <div class="bloco">ğŸŒ™ ${d.jantar}</div>
            <button onclick="app.gerarSemana();app.renderDia(document.getElementById('conteudo'))">
                Gerar novo cardÃ¡pio
            </button>
        `;
    },

    renderSemana(el) {
        const semana = this.obterSemana();
        let html = "<h2>Semana Completa</h2>";
        for (let dia in semana) {
            const d = semana[dia];
            html += `
                <div class="bloco">
                    <strong>${dia}</strong><br>
                    â˜• ${d.cafe.base}<br>
                    ğŸ› ${d.almoco.feijao}, ${d.almoco.proteina}<br>
                    ğŸŒ™ ${d.jantar}
                </div>`;
        }
        el.innerHTML = html;
    },

    gerarListaCompras() {
        const semana = this.obterSemana();
        const itens = new Set();
        Object.values(semana).forEach(dia => {
            itens.add(dia.cafe.base);
            itens.add(dia.cafe.acomp);
            itens.add(dia.cafe.bebid
